<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <script>
        let full_name;
        let i_d;
        let date_of_birth;
        let e_mail;
        let address;
        let rate_pack;
        let service;
        let rent_days;
        let rate_numday;
        let rate_add;
        let room1;
        let at_tach;
        let payment, rate;
        let check = false;

        //khời tạo một biến tạm để lưu tên theo đúng định dạng
        let tempfull_name = "";
        full_name = prompt("Xin mời nhập tên: ");
        full_name = full_name.trim().toLowerCase(); // dùng lệnh toLowercase để biến tất cả chữ trong tên thành chữ thường
        for (i = 0; i < full_name.length; i++) {
            if ((full_name.charAt(i) === " ") && (full_name.charAt(i+1) === " ")) {
                continue;
            }
            // dùng lệh toUppercase để biến chữ cái đầu và chữ cái sau khoảng trống trong chuỗi thành chữ in hoa
            if ((i === 0) || (full_name.charAt(i-1) === " ")) {
                tempfull_name += full_name.charAt(i).toUpperCase();
                continue;
            }
            tempfull_name += full_name.charAt(i);
        }
        alert (full_name = tempfull_name)   ;
        do {
            i_d = prompt("Xin mời nhập chứng minh thư: ");
            //dùng !isNaN để kiểm tra xem có phải là số hay không (true nếu là chữ và false nếu là số)
            if (!isNaN(i_d)) {
                i_d = Number.parseFloat(i_d);
            }
            // dùng !interger để kiểm tra xem có phải là số nguyên hay không?
            if (!Number.isInteger(i_d)) {
                alert("Số trong chứng minh thư không đúng định dạng: ");
                continue; // tiếp tục vòng lặp nếu không phải là số nguyên
            }
            // xét chứng minh thư phải là 8 số
            if ((i_d < 10000000) || (i_d > 99999999)) {
                alert("Số trong chứng minh thư không đúng định dạng: ");
                continue;
            }
            check = true;
        } while (!check)
        check = false;
        do {
            date_of_birth = prompt("Xin mời nhập ngày sinh: ");
            // dùng charAt để lấy ký tư / từ vị trí số 2 và 5 trong chuỗi dd/mm/yyyy
            if ((date_of_birth.charAt(2) === "/") && (date_of_birth.charAt(5) === "/")) {
                let day = date_of_birth.substring(0,2); //dùng substring để lấy phần tử day trong chuỗi ra
                let month = date_of_birth.substring(3,5);
                let year = date_of_birth.substring(6,10);
                //dùng !isNan để kiểm tra 3 biến day, month, year có phải là số hay không
                if (!isNaN(day) && !isNaN(month) && !isNaN(year)) {
                    //Nếu là số thì...:
                    day = Number.parseFloat(day);
                    month = Number.parseFloat(month);
                    year = Number.parseFloat(year);
                    //dùng interger kiểm tra xem nó có phải là số nguyên dương hay không
                    if (Number.isInteger(day) && Number.isInteger(month) && Number.isInteger(year)) {
                        //xet giới hạn tối đa mà day và month tối đa có thể đạt đến
                        if ((day < 32) && (month < 13) && (year > 1900)) {
                            check = true;
                        }
                    }
                }
            }
            if (!check) {
                alert("Ngày sinh không đúng định dạng: ");
            }
        } while (!check)
        check = false;
        do {
            let countA = 0;
            let countCham = 0;
            e_mail = prompt("Xin mời nhập email: ");
            for (let i = 0; i < e_mail.length; i++) {
                if (e_mail.charAt(i) === "@") { //hàm charAt dùng để lấy  ký tự @ phần tử thứ i
                    countA++;
                    for (let j=j+1; j < e_mail.length; j++) {
                        if (e_mail.charAt(j) === ".") {
                            countCham++;
                        }
                    }
                }
            }
            if ((countA !== 1) || (countCham < 1)) {
                alert("email bạn nhập không đúng theo định dạng: ");
            } else {
                check = true;
            }
        } while (!check)
        check = false;
        address = prompt("Xin mời nhập địa chỉ: ");
        rate_pack = prompt("Xin mời nhập gói giảm giá: ");
        service = prompt("Xin mời nhập loại dịch vụ: ");
        do {
            rent_days = prompt("Xin mời nhập số ngày thuê: ");
            if (!isNaN(rent_days)) {
                rent_days = Number.parseFloat(rent_days);
                if (Number.isInteger(rent_days)) {
                    check = true;
                }
            }
            if (!check) {
                alert("Ngày thuê không phải là số nguyên dương: ");
            }
        } while (!check)
        check = false;
        rate_numday = prompt("Xin mời chọn giảm giá theo ngày: ");
        rate_add = prompt("Xin mời chọn địa chỉ được giảm giá: ");
        room1 = prompt("Xin mời chọn hạng phòng: ");
        at_tach = prompt("Xin mời nhập số lượng người đi cùng: ");

    </script>
</body>
</html>